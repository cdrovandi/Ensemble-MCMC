##matlab output (using multiESS)
##ess_vals
##113.9123  138.1988  151.7610  181.3381  200.9720  198.0311  243.3414  261.4271  238.5306  264.9768  284.9599  286.9441
##348.6227  310.9148  306.9850  313.5838  362.1626  326.5669  347.3588  373.8483  390.7255  402.0750  356.0623  387.8793
##time_vals
##66.9901   91.9404  122.8289  154.6726  187.3710  218.3358  249.6816  282.1187  311.9889  344.1871  378.2596  412.7536
##444.8318  479.1247  512.3877  549.7656  580.9399  614.3401  642.9007  677.0557  708.8904  736.0843  767.0703  800.3212
##ess_vals ./ time_vals
##1.7004    1.5031    1.2355    1.1724    1.0726    0.9070    0.9746    0.9267    0.7645    0.7699    0.7533    0.6952
##0.7837    0.6489    0.5991    0.5704    0.6234    0.5316    0.5403    0.5522    0.5512    0.5462    0.4642    0.4847


library(R.matlab)
library(coda)
ess = numeric(24)
for (i in 1:24) {
    filename = paste0("nparticles_comparison", i, ".mat")
    mcmc_out = readMat(filename)[[1]]
    ess[i] = mean(effectiveSize(mcmc(mcmc_out)))
}

runtime = c(66.9901, 91.9404,122.8289,154.6726,187.3710,218.3358,249.6816,282.1187,
311.9889,344.1871,378.2596,412.7536,444.8318,479.1247,512.3877,549.7656,580.9399,
614.3401,642.9007,677.0557,708.8904,736.0843,767.0703,800.3212)
ess / runtime

##> ess
## [1]   5.85146  56.01923  72.76893 111.23502 143.16327 120.56238 177.83570
## [8] 208.08329 196.65436 216.50880 257.90040 236.94754 291.59031 269.87209
##[15] 280.10590 275.53114 320.61955 277.64891 320.54219 319.22348 337.12889
##[22] 349.17345 309.27983 347.91410

##> ess / runtime
## [1] 0.08734813 0.60929936 0.59244142 0.71916437 0.76406312 0.55218785
## [7] 0.71224993 0.73757353 0.63032487 0.62904392 0.68180794 0.57406534
##[13] 0.65550690 0.56326064 0.54666789 0.50117930 0.55189797 0.45194659
##[19] 0.49858740 0.47148777 0.47557265 0.47436611 0.40319620 0.43471808

